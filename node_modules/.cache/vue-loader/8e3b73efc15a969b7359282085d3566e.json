{"remainingRequest":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue","mtime":1602082510690},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlL2Rpc3QvdnVlLmpzJwppbXBvcnQgRnJhZ21lbnQgZnJvbSAndnVlLWZyYWdtZW50JzsKVnVlLnVzZShGcmFnbWVudC5QbHVnaW4pOwoKCi8vIGltcG9ydCB7ZGF0YX0gZnJvbSAnLi4vbWFpbi5qcycKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGN1aXNpbmU6ICcnLAogICAgICAgIHJlc3RhdXJhbnRQcmljZTogJycsCiAgICAgICAgcmVzdGF1cmFudHM6IFtdLAogICAgICAgIGNvdW50ZXI6IDAsCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgc2xpZGVyVmFsOiA1CiAgICB9KSwKICAgIG1vdW50ZWQoKXsKICAgICAgICBjb25zb2xlLmxvZygiYXZhbnQgcmVuZHUgaHRtbCIpOwogICAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKDApOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGRSZXN0bygpIHsKICAgICAgICAgICAgdGhpcy4kZmlyZXN0b3JlLnJlc3RhdXJhbnRzLmFkZCh7CiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICAgICAgICBjdWlzaW5lOiB0aGlzLmN1aXNpbmUsCiAgICAgICAgICAgICAgICByZXN0YXVyYW50UHJpY2U6IHRoaXMucmVzdGF1cmFudFByaWNlLAogICAgICAgICAgICAgICAgZGF0ZUNyZWF0ZWQ6IG5ldyBEYXRlKCkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5uYW1lID0gJycKICAgICAgICAgICAgdGhpcy5jdWlzaW5lID0gJycKICAgICAgICAgICAgdGhpcy5yZXN0YXVyYW50UHJpY2UgPSAwCiAgICAgICAgfSwKICAgICAgICByZW1vdmVSZXN0byhyZXN0byl7CiAgICAgICAgICAgdGhpcy4kZmlyZXN0b3JlLnJlc3RhdXJhbnRzLmRvYyhyZXN0b1snLmtleSddKS5kZWxldGUoKTsKICAgICAgICB9LAogICAgICAgIGdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcih4KXsKICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHM/cGFnZT0nK3grJyZwYWdlc2l6ZT0nK3RoaXMuc2xpZGVyVmFsKycmbmFtZT0nK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hWYWwiKS52YWx1ZS50b0xvd2VyQ2FzZSgpLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ2dldCcKICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2VKU09OKSA9PiB7CiAgICAgICAgICAgICAgICByZXNwb25zZUpTT04uanNvbigpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2VKUyk9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2VKUy5jb3VudAogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlSlMpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0YXVyYW50cyA9IHJlc3BvbnNlSlMuZGF0YQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzdGF1cmFudHMpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgfSkKCiAgICAgICAgfSwKICAgICAgICBzZWFyY2hCYXI6IF8uZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBnZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoMCk7CiAgICAgICAgfSwgMzAwKSwKCiAgICAgICAgbmV4dFBhZ2UoKXsKICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY291bnRlcik7CiAgICAgICAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKHRoaXMuY291bnRlciwgdGhpcy5zbGlkZXJWYWwpOwogICAgICAgIH0sCiAgICAgICAgcHJldmlvdXNQYWdlKCl7CiAgICAgICAgICAgIHRoaXMuY291bnRlci0tOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvdW50ZXIpOwogICAgICAgICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcih0aGlzLmNvdW50ZXIsIHRoaXMuc2xpZGVyVmFsKTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZVNsaWRlclZhbHVlKCl7CiAgICAgICAgICAgIHRoaXMuc2xpZGVyVmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm15UmFuZ2UiKS52YWx1ZQogICAgICAgICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcih0aGlzLmNvdW50ZXIsIHRoaXMuc2xpZGVyVmFsKTsKCiAgICAgICAgfQoKICAgIH0KfQoKVnVlLmNvbXBvbmVudCgncmVzdGF1cmFudC1saXN0JywgewogICAgcHJvcHM6IFsncmVzdG9zJ10sCiAgICB0ZW1wbGF0ZTogYDxmcmFnbWVudD4KICAgICAgICAgICAgICAgIDx0ciB2LWZvcj0iKHJlc3RhdXJhbnQsIGluZGV4KSBpbiByZXN0b3MiIDprZXk9ImluZGV4IiA+ICAKICAgICAgICAgICAgICAgIDxyZXN0YXVyYW50IDp2YXJpYT0icmVzdGF1cmFudCI+PC9yZXN0YXVyYW50PgogICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgIDwvZnJhZ21lbnQ+YAp9KQoKVnVlLmNvbXBvbmVudCgncmVzdGF1cmFudCcsIHsKICAgIHRlbXBsYXRlOiBgPGZyYWdtZW50PgogICAgICAgICAgICAgICAgPHRkPiB7e3ZhcmlhLm5hbWV9fSA8L3RkPgogICAgICAgICAgICAgICAgPHRkPiB7e3ZhcmlhLmN1aXNpbmV9fTwvdGQ+CiAgICAgICAgICAgICAgICA8L2ZyYWdtZW50PmAsCiAgICBwcm9wczogewogICAgICAgIHZhcmlhOnsKICAgICAgICAgICAgdHlwZSA6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQogICAgICAgIH0KICAgIH0KCn0pCgo="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n    <div>\n        <link rel=\"stylesheet\" href=\"https://www.w3schools.com/w3css/4/w3.css\">\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n\n         <!-- <div v-if=\"restaurants.length\">\n            <ol>\n                <li v-for=\"(restaurant, index) in restaurants\" :key=\"index\">\n                    {{restaurant.restaurantName}} - {{restaurant.restaurantCuisine}} - {{restaurant.restaurantPrice}}<button @click=\"removeResto(restaurant)\" style=\"background-color: red\">Remove</button>\n                </li>\n            </ol>\n\n\n        </div>\n        <div v-else>\n            <p>Hooray! No rastaurant in list sorry.</p>\n        </div>  -->\n\n        <h1>Nombre de restaurants : {{total}}</h1>\n        <div class=\"search-container w3-right\">\n            <form v-on:submit.prevent=\"onSubmit\">\n            <input type=\"text\" placeholder=\"Search..\" name=\"searchVal\" id=\"searchVal\" @keydown=\"searchBar()\" >\n            <button type=\"submit\" @click=\"getRestaurantsFromServer(0)\"><i class=\"fa fa-search\"></i></button>\n            </form>\n        </div>\n        \n        <div class=\"slidecontainer\">\n            <input type=\"range\" min=\"5\" max=\"100\" step =\"5\" value=\"5\" class=\"slider\" id=\"myRange\" v-on:change=\"updateSliderValue()\">\n            <h5> {{sliderVal}} </h5>\n        </div>\n        \n        <table class=\"w3-table w3-bordered\">\n            <tr class=\"w3-green\">\n                <th>Nom</th>\n                <th>Cuisine </th>\n            </tr>\n            <tbody>\n                <restaurant-list :restos=\"restaurants\">\n                    <!-- <slot><restaurant :varia=\"restaurant\"></restaurant></slot> -->\n                </restaurant-list>\n            </tbody>\n        </table>\n        <br>\n        \n        <div class=\"w3-container\" style=\"margin: auto;\">\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-left w3-red\" v-on:click=\"previousPage()\" value=\"precedent\" :disabled=\"counter == 0\">precedent</button>\n            </div>\n\n            <div class=\"w3-half\">\n            <h4 class=\"w3-text w3-center\"> page number {{counter}} </h4>\n            </div>\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-right w3-green\" v-on:click=\"nextPage()\" value=\"suivant\"> suivant </button>\n            </div>\n\n        </div>\n\n        <hr>\n        <p>New restaurant:</p>\n        <form v-on:submit.prevent>\n            <div>\n                <input type=\"text\" v-model=\"name\" placeholder=\"restaurant Name\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"cuisine\" placeholder=\"restaurant Cuisine\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"restaurantPrice\" placeholder=\"Prix moyen\">\n            </div>\n            <div>\n                <button @click=\"addResto()\">Submit</button>\n            </div>\n        </form>\n    </div> \n</template>\n\n<script>\nimport Vue from 'vue/dist/vue.js'\nimport Fragment from 'vue-fragment';\nVue.use(Fragment.Plugin);\n\n\n// import {data} from '../main.js'\nimport _ from 'lodash'\nexport default {\n    name: 'HelloWorld',\n    data: () => ({\n        name: '',\n        cuisine: '',\n        restaurantPrice: '',\n        restaurants: [],\n        counter: 0,\n        total: 0,\n        sliderVal: 5\n    }),\n    mounted(){\n        console.log(\"avant rendu html\");\n        this.getRestaurantsFromServer(0);\n    },\n    methods: {\n        addResto() {\n            this.$firestore.restaurants.add({\n                name: this.name,\n                cuisine: this.cuisine,\n                restaurantPrice: this.restaurantPrice,\n                dateCreated: new Date()\n            })\n            this.name = ''\n            this.cuisine = ''\n            this.restaurantPrice = 0\n        },\n        removeResto(resto){\n           this.$firestore.restaurants.doc(resto['.key']).delete();\n        },\n        getRestaurantsFromServer(x){\n            fetch('http://localhost:8080/api/restaurants?page='+x+'&pagesize='+this.sliderVal+'&name='+document.getElementById(\"searchVal\").value.toLowerCase(), {\n            method: 'get'\n            }).then((responseJSON) => {\n                responseJSON.json()\n                .then((responseJS)=>{\n                    this.total = responseJS.count\n                    console.log(responseJS)\n                    this.restaurants = responseJS.data\n                    console.log(this.restaurants)\n                })\n            }).catch(function(err) {\n                console.log(err)\n            })\n\n        },\n        searchBar: _.debounce(function () {\n            getRestaurantsFromServer(0);\n        }, 300),\n\n        nextPage(){\n            this.counter++;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        previousPage(){\n            this.counter--;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        updateSliderValue(){\n            this.sliderVal = document.getElementById(\"myRange\").value\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n\n        }\n\n    }\n}\n\nVue.component('restaurant-list', {\n    props: ['restos'],\n    template: `<fragment>\n                <tr v-for=\"(restaurant, index) in restos\" :key=\"index\" >  \n                <restaurant :varia=\"restaurant\"></restaurant>\n                </tr>\n                </fragment>`\n})\n\nVue.component('restaurant', {\n    template: `<fragment>\n                <td> {{varia.name}} </td>\n                <td> {{varia.cuisine}}</td>\n                </fragment>`,\n    props: {\n        varia:{\n            type : Object,\n            default: () => ({})\n        }\n    }\n\n})\n\n</script>\n\n<style scoped>\n    div {\n        margin-bottom: 20px;\n    }\n</style>"]}]}