{"remainingRequest":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css&","dependencies":[{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue","mtime":1602082510690},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKZGl2IHsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0K"},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n    <div>\n        <link rel=\"stylesheet\" href=\"https://www.w3schools.com/w3css/4/w3.css\">\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n\n         <!-- <div v-if=\"restaurants.length\">\n            <ol>\n                <li v-for=\"(restaurant, index) in restaurants\" :key=\"index\">\n                    {{restaurant.restaurantName}} - {{restaurant.restaurantCuisine}} - {{restaurant.restaurantPrice}}<button @click=\"removeResto(restaurant)\" style=\"background-color: red\">Remove</button>\n                </li>\n            </ol>\n\n\n        </div>\n        <div v-else>\n            <p>Hooray! No rastaurant in list sorry.</p>\n        </div>  -->\n\n        <h1>Nombre de restaurants : {{total}}</h1>\n        <div class=\"search-container w3-right\">\n            <form v-on:submit.prevent=\"onSubmit\">\n            <input type=\"text\" placeholder=\"Search..\" name=\"searchVal\" id=\"searchVal\" @keydown=\"searchBar()\" >\n            <button type=\"submit\" @click=\"getRestaurantsFromServer(0)\"><i class=\"fa fa-search\"></i></button>\n            </form>\n        </div>\n        \n        <div class=\"slidecontainer\">\n            <input type=\"range\" min=\"5\" max=\"100\" step =\"5\" value=\"5\" class=\"slider\" id=\"myRange\" v-on:change=\"updateSliderValue()\">\n            <h5> {{sliderVal}} </h5>\n        </div>\n        \n        <table class=\"w3-table w3-bordered\">\n            <tr class=\"w3-green\">\n                <th>Nom</th>\n                <th>Cuisine </th>\n            </tr>\n            <tbody>\n                <restaurant-list :restos=\"restaurants\">\n                    <!-- <slot><restaurant :varia=\"restaurant\"></restaurant></slot> -->\n                </restaurant-list>\n            </tbody>\n        </table>\n        <br>\n        \n        <div class=\"w3-container\" style=\"margin: auto;\">\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-left w3-red\" v-on:click=\"previousPage()\" value=\"precedent\" :disabled=\"counter == 0\">precedent</button>\n            </div>\n\n            <div class=\"w3-half\">\n            <h4 class=\"w3-text w3-center\"> page number {{counter}} </h4>\n            </div>\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-right w3-green\" v-on:click=\"nextPage()\" value=\"suivant\"> suivant </button>\n            </div>\n\n        </div>\n\n        <hr>\n        <p>New restaurant:</p>\n        <form v-on:submit.prevent>\n            <div>\n                <input type=\"text\" v-model=\"name\" placeholder=\"restaurant Name\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"cuisine\" placeholder=\"restaurant Cuisine\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"restaurantPrice\" placeholder=\"Prix moyen\">\n            </div>\n            <div>\n                <button @click=\"addResto()\">Submit</button>\n            </div>\n        </form>\n    </div> \n</template>\n\n<script>\nimport Vue from 'vue/dist/vue.js'\nimport Fragment from 'vue-fragment';\nVue.use(Fragment.Plugin);\n\n\n// import {data} from '../main.js'\nimport _ from 'lodash'\nexport default {\n    name: 'HelloWorld',\n    data: () => ({\n        name: '',\n        cuisine: '',\n        restaurantPrice: '',\n        restaurants: [],\n        counter: 0,\n        total: 0,\n        sliderVal: 5\n    }),\n    mounted(){\n        console.log(\"avant rendu html\");\n        this.getRestaurantsFromServer(0);\n    },\n    methods: {\n        addResto() {\n            this.$firestore.restaurants.add({\n                name: this.name,\n                cuisine: this.cuisine,\n                restaurantPrice: this.restaurantPrice,\n                dateCreated: new Date()\n            })\n            this.name = ''\n            this.cuisine = ''\n            this.restaurantPrice = 0\n        },\n        removeResto(resto){\n           this.$firestore.restaurants.doc(resto['.key']).delete();\n        },\n        getRestaurantsFromServer(x){\n            fetch('http://localhost:8080/api/restaurants?page='+x+'&pagesize='+this.sliderVal+'&name='+document.getElementById(\"searchVal\").value.toLowerCase(), {\n            method: 'get'\n            }).then((responseJSON) => {\n                responseJSON.json()\n                .then((responseJS)=>{\n                    this.total = responseJS.count\n                    console.log(responseJS)\n                    this.restaurants = responseJS.data\n                    console.log(this.restaurants)\n                })\n            }).catch(function(err) {\n                console.log(err)\n            })\n\n        },\n        searchBar: _.debounce(function () {\n            getRestaurantsFromServer(0);\n        }, 300),\n\n        nextPage(){\n            this.counter++;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        previousPage(){\n            this.counter--;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        updateSliderValue(){\n            this.sliderVal = document.getElementById(\"myRange\").value\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n\n        }\n\n    }\n}\n\nVue.component('restaurant-list', {\n    props: ['restos'],\n    template: `<fragment>\n                <tr v-for=\"(restaurant, index) in restos\" :key=\"index\" >  \n                <restaurant :varia=\"restaurant\"></restaurant>\n                </tr>\n                </fragment>`\n})\n\nVue.component('restaurant', {\n    template: `<fragment>\n                <td> {{varia.name}} </td>\n                <td> {{varia.cuisine}}</td>\n                </fragment>`,\n    props: {\n        varia:{\n            type : Object,\n            default: () => ({})\n        }\n    }\n\n})\n\n</script>\n\n<style scoped>\n    div {\n        margin-bottom: 20px;\n    }\n</style>"]}]}