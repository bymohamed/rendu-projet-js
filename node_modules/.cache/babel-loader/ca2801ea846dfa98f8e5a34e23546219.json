{"remainingRequest":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/babel-loader/lib/index.js!/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/src/components/HelloWorld.vue","mtime":1602082510690},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benyamna/Bureau/M1 miage/JS/TD1 JS/expenses/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZS9kaXN0L3Z1ZS5qcyc7CmltcG9ydCBGcmFnbWVudCBmcm9tICd2dWUtZnJhZ21lbnQnOwpWdWUudXNlKEZyYWdtZW50LlBsdWdpbik7IC8vIGltcG9ydCB7ZGF0YX0gZnJvbSAnLi4vbWFpbi5qcycKCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBjdWlzaW5lOiAnJywKICAgICAgcmVzdGF1cmFudFByaWNlOiAnJywKICAgICAgcmVzdGF1cmFudHM6IFtdLAogICAgICBjb3VudGVyOiAwLAogICAgICB0b3RhbDogMCwKICAgICAgc2xpZGVyVmFsOiA1CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJhdmFudCByZW5kdSBodG1sIik7CiAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFJlc3RvOiBmdW5jdGlvbiBhZGRSZXN0bygpIHsKICAgICAgdGhpcy4kZmlyZXN0b3JlLnJlc3RhdXJhbnRzLmFkZCh7CiAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgIGN1aXNpbmU6IHRoaXMuY3Vpc2luZSwKICAgICAgICByZXN0YXVyYW50UHJpY2U6IHRoaXMucmVzdGF1cmFudFByaWNlLAogICAgICAgIGRhdGVDcmVhdGVkOiBuZXcgRGF0ZSgpCiAgICAgIH0pOwogICAgICB0aGlzLm5hbWUgPSAnJzsKICAgICAgdGhpcy5jdWlzaW5lID0gJyc7CiAgICAgIHRoaXMucmVzdGF1cmFudFByaWNlID0gMDsKICAgIH0sCiAgICByZW1vdmVSZXN0bzogZnVuY3Rpb24gcmVtb3ZlUmVzdG8ocmVzdG8pIHsKICAgICAgdGhpcy4kZmlyZXN0b3JlLnJlc3RhdXJhbnRzLmRvYyhyZXN0b1snLmtleSddKS5kZWxldGUoKTsKICAgIH0sCiAgICBnZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXI6IGZ1bmN0aW9uIGdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcih4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9yZXN0YXVyYW50cz9wYWdlPScgKyB4ICsgJyZwYWdlc2l6ZT0nICsgdGhpcy5zbGlkZXJWYWwgKyAnJm5hbWU9JyArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hWYWwiKS52YWx1ZS50b0xvd2VyQ2FzZSgpLCB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZUpTT04pIHsKICAgICAgICByZXNwb25zZUpTT04uanNvbigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlSlMpIHsKICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2VKUy5jb3VudDsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlSlMpOwogICAgICAgICAgX3RoaXMucmVzdGF1cmFudHMgPSByZXNwb25zZUpTLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5yZXN0YXVyYW50cyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2hCYXI6IF8uZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICBnZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoMCk7CiAgICB9LCAzMDApLAogICAgbmV4dFBhZ2U6IGZ1bmN0aW9uIG5leHRQYWdlKCkgewogICAgICB0aGlzLmNvdW50ZXIrKzsKICAgICAgY29uc29sZS5sb2codGhpcy5jb3VudGVyKTsKICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIodGhpcy5jb3VudGVyLCB0aGlzLnNsaWRlclZhbCk7CiAgICB9LAogICAgcHJldmlvdXNQYWdlOiBmdW5jdGlvbiBwcmV2aW91c1BhZ2UoKSB7CiAgICAgIHRoaXMuY291bnRlci0tOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvdW50ZXIpOwogICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcih0aGlzLmNvdW50ZXIsIHRoaXMuc2xpZGVyVmFsKTsKICAgIH0sCiAgICB1cGRhdGVTbGlkZXJWYWx1ZTogZnVuY3Rpb24gdXBkYXRlU2xpZGVyVmFsdWUoKSB7CiAgICAgIHRoaXMuc2xpZGVyVmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm15UmFuZ2UiKS52YWx1ZTsKICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIodGhpcy5jb3VudGVyLCB0aGlzLnNsaWRlclZhbCk7CiAgICB9CiAgfQp9OwpWdWUuY29tcG9uZW50KCdyZXN0YXVyYW50LWxpc3QnLCB7CiAgcHJvcHM6IFsncmVzdG9zJ10sCiAgdGVtcGxhdGU6ICI8ZnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPHRyIHYtZm9yPVwiKHJlc3RhdXJhbnQsIGluZGV4KSBpbiByZXN0b3NcIiA6a2V5PVwiaW5kZXhcIiA+ICBcbiAgICAgICAgICAgICAgICA8cmVzdGF1cmFudCA6dmFyaWE9XCJyZXN0YXVyYW50XCI+PC9yZXN0YXVyYW50PlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPC9mcmFnbWVudD4iCn0pOwpWdWUuY29tcG9uZW50KCdyZXN0YXVyYW50JywgewogIHRlbXBsYXRlOiAiPGZyYWdtZW50PlxuICAgICAgICAgICAgICAgIDx0ZD4ge3t2YXJpYS5uYW1lfX0gPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+IHt7dmFyaWEuY3Vpc2luZX19PC90ZD5cbiAgICAgICAgICAgICAgICA8L2ZyYWdtZW50PiIsCiAgcHJvcHM6IHsKICAgIHZhcmlhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":"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","sourcesContent":["\n<template>\n    <div>\n        <link rel=\"stylesheet\" href=\"https://www.w3schools.com/w3css/4/w3.css\">\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n\n         <!-- <div v-if=\"restaurants.length\">\n            <ol>\n                <li v-for=\"(restaurant, index) in restaurants\" :key=\"index\">\n                    {{restaurant.restaurantName}} - {{restaurant.restaurantCuisine}} - {{restaurant.restaurantPrice}}<button @click=\"removeResto(restaurant)\" style=\"background-color: red\">Remove</button>\n                </li>\n            </ol>\n\n\n        </div>\n        <div v-else>\n            <p>Hooray! No rastaurant in list sorry.</p>\n        </div>  -->\n\n        <h1>Nombre de restaurants : {{total}}</h1>\n        <div class=\"search-container w3-right\">\n            <form v-on:submit.prevent=\"onSubmit\">\n            <input type=\"text\" placeholder=\"Search..\" name=\"searchVal\" id=\"searchVal\" @keydown=\"searchBar()\" >\n            <button type=\"submit\" @click=\"getRestaurantsFromServer(0)\"><i class=\"fa fa-search\"></i></button>\n            </form>\n        </div>\n        \n        <div class=\"slidecontainer\">\n            <input type=\"range\" min=\"5\" max=\"100\" step =\"5\" value=\"5\" class=\"slider\" id=\"myRange\" v-on:change=\"updateSliderValue()\">\n            <h5> {{sliderVal}} </h5>\n        </div>\n        \n        <table class=\"w3-table w3-bordered\">\n            <tr class=\"w3-green\">\n                <th>Nom</th>\n                <th>Cuisine </th>\n            </tr>\n            <tbody>\n                <restaurant-list :restos=\"restaurants\">\n                    <!-- <slot><restaurant :varia=\"restaurant\"></restaurant></slot> -->\n                </restaurant-list>\n            </tbody>\n        </table>\n        <br>\n        \n        <div class=\"w3-container\" style=\"margin: auto;\">\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-left w3-red\" v-on:click=\"previousPage()\" value=\"precedent\" :disabled=\"counter == 0\">precedent</button>\n            </div>\n\n            <div class=\"w3-half\">\n            <h4 class=\"w3-text w3-center\"> page number {{counter}} </h4>\n            </div>\n\n            <div class=\"w3-quarter\">\n            <button class=\"w3-button w3-right w3-green\" v-on:click=\"nextPage()\" value=\"suivant\"> suivant </button>\n            </div>\n\n        </div>\n\n        <hr>\n        <p>New restaurant:</p>\n        <form v-on:submit.prevent>\n            <div>\n                <input type=\"text\" v-model=\"name\" placeholder=\"restaurant Name\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"cuisine\" placeholder=\"restaurant Cuisine\">\n            </div>\n            <div>\n                <input type=\"text\" v-model=\"restaurantPrice\" placeholder=\"Prix moyen\">\n            </div>\n            <div>\n                <button @click=\"addResto()\">Submit</button>\n            </div>\n        </form>\n    </div> \n</template>\n\n<script>\nimport Vue from 'vue/dist/vue.js'\nimport Fragment from 'vue-fragment';\nVue.use(Fragment.Plugin);\n\n\n// import {data} from '../main.js'\nimport _ from 'lodash'\nexport default {\n    name: 'HelloWorld',\n    data: () => ({\n        name: '',\n        cuisine: '',\n        restaurantPrice: '',\n        restaurants: [],\n        counter: 0,\n        total: 0,\n        sliderVal: 5\n    }),\n    mounted(){\n        console.log(\"avant rendu html\");\n        this.getRestaurantsFromServer(0);\n    },\n    methods: {\n        addResto() {\n            this.$firestore.restaurants.add({\n                name: this.name,\n                cuisine: this.cuisine,\n                restaurantPrice: this.restaurantPrice,\n                dateCreated: new Date()\n            })\n            this.name = ''\n            this.cuisine = ''\n            this.restaurantPrice = 0\n        },\n        removeResto(resto){\n           this.$firestore.restaurants.doc(resto['.key']).delete();\n        },\n        getRestaurantsFromServer(x){\n            fetch('http://localhost:8080/api/restaurants?page='+x+'&pagesize='+this.sliderVal+'&name='+document.getElementById(\"searchVal\").value.toLowerCase(), {\n            method: 'get'\n            }).then((responseJSON) => {\n                responseJSON.json()\n                .then((responseJS)=>{\n                    this.total = responseJS.count\n                    console.log(responseJS)\n                    this.restaurants = responseJS.data\n                    console.log(this.restaurants)\n                })\n            }).catch(function(err) {\n                console.log(err)\n            })\n\n        },\n        searchBar: _.debounce(function () {\n            getRestaurantsFromServer(0);\n        }, 300),\n\n        nextPage(){\n            this.counter++;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        previousPage(){\n            this.counter--;\n            console.log(this.counter);\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n        },\n        updateSliderValue(){\n            this.sliderVal = document.getElementById(\"myRange\").value\n            this.getRestaurantsFromServer(this.counter, this.sliderVal);\n\n        }\n\n    }\n}\n\nVue.component('restaurant-list', {\n    props: ['restos'],\n    template: `<fragment>\n                <tr v-for=\"(restaurant, index) in restos\" :key=\"index\" >  \n                <restaurant :varia=\"restaurant\"></restaurant>\n                </tr>\n                </fragment>`\n})\n\nVue.component('restaurant', {\n    template: `<fragment>\n                <td> {{varia.name}} </td>\n                <td> {{varia.cuisine}}</td>\n                </fragment>`,\n    props: {\n        varia:{\n            type : Object,\n            default: () => ({})\n        }\n    }\n\n})\n\n</script>\n\n<style scoped>\n    div {\n        margin-bottom: 20px;\n    }\n</style>"],"sourceRoot":"src/components"}]}